import re
import logging
import asyncio
from datetime import datetime, timedelta
from telegram import Update, InlineKeyboardButton, InlineKeyboardMarkup
from telegram.ext import Application, CommandHandler, CallbackQueryHandler, MessageHandler, filters, CallbackContext
from telegram.error import TimedOut, NetworkError, BadRequest, Forbidden
import database as db
import os
import pytz

TOKEN = os.environ.get('BOT_TOKEN')
if not TOKEN:
    print("–û–®–ò–ë–ö–ê: –¢–æ–∫–µ–Ω –Ω–µ –Ω–∞–π–¥–µ–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è BOT_TOKEN")
    exit(1)

print("–ë–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å —Ç–æ–∫–µ–Ω–æ–º –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è")

logging.basicConfig(format='%(asctime)s - %(name)s - %(levelname)s - %(message)s', level=logging.INFO)
logger = logging.getLogger(__name__)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏
ADMIN_IDS = [516406248]
REQUEST_TIMEOUT = 30.0

TEACHER_IDS = {
    '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.': 1665763898,
    '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.': 1970780275,
    '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø.': 0,
    '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.': 0,
    '–°–∏–≤—ã–π –ê.–í.': 0,
    '–ü–∏–Ω—á—É–∫ –ê.–í.': 0,
    '–Æ–Ω–∞—Ö –¢.–í.': 0,
    '–ë–µ–ª—å—Å–∫–∏–π –°.–í.': 0,
    '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.': 0,
    '–ë—Ä–µ–ª—å –Æ.–í.': 0,
    '–®–∞—Ç–∏–ª–æ –ù.–ò.': 0,
    '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.': 0,
    '–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.': 0,
    '–ú–µ–ª–µ–∂ –ê.–ì.': 0,
    '–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.': 0,
    '–ü—Ä–∏—Ö–∞—á –ï.–í.': 967925839,
    '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.': 0,
    '–Ø–≤–æ—à –°.–í.': 0,
    '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.': 0,
    '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.': 0,
    '–ì—É–¥ –Æ.–ü.': 516406248,
    '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.': 0,
    '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.': 0,
    '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.': 0,
    '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.': 0,
    '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.': 0,
    '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.': 0,
    '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.': 0,
    '–ó—É–±–æ–∫ –°.–ù.': 0,
    '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.': 0,
    '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.': 0,
    '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.': 0,
    '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.': 0,
    '–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.': 0,
    '–ê—Ä—Ç—é—Ö –ú.–ü.': 0,
    '–•–æ—Ä–æ—à–∫–æ –¢.–ê.': 0
}

ALL_CLASSES = ['5–∞', '5–±', '5–≤', '6–∞', '6–±', '6–≤', '7–∞', '7–±', '7–≤', '8–∞', '8–±', '9–∞', '9–±', '10–∞', '10–±', '11']

SUBJECTS = [
    "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞(–ø—Ä–æ—Ñ.)", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫", "–†—É—Å—Å–∫–∏–π —è–∑—ã–∫(–ø—Ä–æ—Ñ.)",
    "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫", "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫(–ø—Ä–æ—Ñ.)", "–†—É—Å—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞",
    "–ë–µ–ª–æ—Ä—É—Å—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞", "–§–∏–∑–∏–∫–∞", "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞",
    "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫", "–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫(–ø—Ä–æ—Ñ.)", "–•–∏–º–∏—è", "–•–∏–º–∏—è(–ø—Ä–æ—Ñ.)",
    "–ë–∏–æ–ª–æ–≥–∏—è", "–ë–∏–æ–ª–æ–≥–∏—è(–ø—Ä–æ—Ñ.)", "–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ", "–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ(–ø—Ä–æ—Ñ.)",
    "–ò—Å—Ç–æ—Ä–∏—è", "–ì–µ–æ–≥—Ä–∞—Ñ–∏—è", "–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞", "–û–ë–ñ", "–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ",
    "–ò—Å–∫—É—Å—Å—Ç–≤–æ", "–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è", "–ß–ó–°", "–ß–µ—Ä—á–µ–Ω–∏–µ", "–î–ü", "–ú–ü", "–ß–µ–ª–æ–≤–µ–∫ –∏ –º–∏—Ä"
]

DAYS_OF_WEEK = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞"]

BELLS_SCHEDULE_HTML = """
üïê –†–ê–°–ü–ò–°–ê–ù–ò–ï –ó–í–û–ù–ö–û–í –ò –ü–ò–¢–ê–ù–ò–Ø
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üîî 1 —É—Ä–æ–∫:    08:00 ‚Äì 08:45
üîî 2 —É—Ä–æ–∫:    09:00 ‚Äì 09:45
üîî 3 —É—Ä–æ–∫:    10:00 ‚Äì 10:45
üçΩÔ∏è –û–±–µ–¥ –¥–ª—è 5-7 –∫–ª–∞—Å—Å–æ–≤
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üîî 4 —É—Ä–æ–∫:    11:00 ‚Äì 11:45
üçΩÔ∏è –û–±–µ–¥ –¥–ª—è 8-11 –∫–ª–∞—Å—Å–æ–≤
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üîî 5 —É—Ä–æ–∫:    12:00 ‚Äì 12:45
üîî 6 —É—Ä–æ–∫:    12:55 ‚Äì 13:40
üçé –ü–æ–ª–¥–Ω–∏–∫ –¥–ª—è –≤—Å–µ—Ö
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üîî 7 —É—Ä–æ–∫:    14:00 ‚Äì 14:45
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
"""

# –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (—Å–æ–∫—Ä–∞—â–µ–Ω–æ –¥–ª—è –ø—Ä–∏–º–µ—Ä–∞)
SCHEDULE_STRUCTURED = {
    '5–∞': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (3, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.'),
            (4, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–û–ë–ñ', '–Æ–Ω–∞—Ö –¢.–í.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (3, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (3, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (2, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (3, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (5, '–ß–µ–ª–æ–≤–µ–∫ –∏ –º–∏—Ä', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (6, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.')
        ]
    },
    '5–±': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (3, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (5, '–û–ë–ñ', '–Æ–Ω–∞—Ö –¢.–í.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (2, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (5, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (6, '–ß–µ–ª–æ–≤–µ–∫ –∏ –º–∏—Ä', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (4, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (4, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (6, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (3, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (4, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (5, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë—Ä–µ–ª—å –Æ.–í.')
        ]
    },
    '5–≤': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (3, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (6, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (4, '–ß–µ–ª–æ–≤–µ–∫ –∏ –º–∏—Ä', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (5, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (4, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (5, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (6, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–û–ë–ñ', '–Æ–Ω–∞—Ö –¢.–í.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (3, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.')
        ]
    },
    '6–∞': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (3, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (6, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (3, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (4, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (6, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (3, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (6, '–†—É—Å—Å–∫–∞—è –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (2, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ú–µ–ª–µ–∂ –ê.–ì.'),
            (3, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (4, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (2, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (3, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (6, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.')
        ]
    },
    '6–±': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (3, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (5, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (2, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ú–µ–ª–µ–∂ –ê.–ì.'),
            (3, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (4, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (5, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (6, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (2, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (5, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (2, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (3, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (4, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (6, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (4, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (6, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.')
        ]
    },
    '6–≤': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (3, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (4, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (4, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (6, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ú–µ–ª–µ–∂ –ê.–ì.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (2, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (3, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (6, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (2, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–∏—Ö–∞—Å—ë–≤ –í.–ê./–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (5, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–∏—Ö–∞—Å—ë–≤ –í.–ê./–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (6, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.')
        ]
    },
    '7–∞': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (3, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (4, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (6, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (7, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (2, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (3, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (4, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (2, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (3, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (5, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (6, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (7, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (2, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (3, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (4, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (2, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (3, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ú–µ–ª–µ–∂ –ê.–ì.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.')
        ]
    },
    '7–±': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (2, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (3, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (4, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (6, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (2, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (4, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ú–µ–ª–µ–∂ –ê.–ì.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (6, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (2, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì–∞–ø–æ–Ω–µ–Ω–∫–æ –Æ.–í.'),
            (3, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (6, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (3, '–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (4, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (7, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†.'),
            (2, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.')
        ]
    },
    '7–≤': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (2, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (3, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (4, '–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (6, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (3, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (4, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (5, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ú–µ–ª–µ–∂ –ê.–ì.'),
            (6, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (2, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (3, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (3, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (4, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (6, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (3, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (4, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (6, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.')
        ]
    },
    '8–∞': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (2, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (5, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (6, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–®–∞—Ç–∏–ª–æ –ù.–ò.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (3, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (5, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (6, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (7, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (2, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (3, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (4, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–®–∞—Ç–∏–ª–æ –ù.–ò.'),
            (5, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (6, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (7, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (2, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (4, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ì—Ä–∏—Ü–∫–µ–≤–∏—á –õ.–í.'),
            (6, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–®–∞—Ç–∏–ª–æ –ù.–ò.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–®—Ç—ã—Ö–Ω–æ–≤–∞ –õ.–ì.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (3, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (4, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (5, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö./–ì—É–¥ –Æ.–ü.'),
            (6, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.')
        ]
    },
    '8–±': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (2, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (5, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (3, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (5, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (3, '–ò—Å—Ç–æ—Ä–∏—è', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (4, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (5, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (6, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (7, '–ò—Å–∫—É—Å—Å—Ç–≤–æ', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (3, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (4, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (6, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (3, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (4, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ú–∏—Ö–∞–ª–∫–æ –ï.–ü.'),
            (5, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (6, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.')
        ]
    },
    '9–∞': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.'),
            (3, '–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (4, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (5, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (6, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (7, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (3, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (4, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (6, '–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.'),
            (3, '–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (5, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (6, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (7, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (2, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.'),
            (5, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (6, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (7, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–§–∏–∑–∏–∫–∞', '–ó—É–±–æ–∫ –°.–ù.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ê–Ω–∏—Å–∫–æ–≤–µ—Ü –ù.–í.'),
            (4, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ù–µ—á–∞–µ–≤–∞ –ï.–Ø.')
        ]
    },
    '9–±': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (2, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (3, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (6, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (4, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.'),
            (6, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (7, '–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í.'),
            (2, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (3, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (6, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (2, '–ë–∏–æ–ª–æ–≥–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.'),
            (3, '–¢—Ä—É–¥–æ–≤–æ–µ –æ–±—É—á–µ–Ω–∏–µ', '–ú–µ–ª–µ–∂ –ê.–ì./–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (4, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü.'),
            (3, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ö–æ–≤–∞–ª—å—á—É–∫ –ö.–†./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (5, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–ë–µ–ª—å—Å–∫–∏–π –°.–í.')
        ]
    },
    '10–∞': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ./–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (2, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ê—Ä—Ç—é—Ö –ú.–ü./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (3, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (4, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (5, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (6, '–ë–µ–ª. —è–∑—ã–∫', '–ë—Ä–µ–ª—å –Æ.–í./–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (2, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (3, '–•–∏–º–∏—è', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (4, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (6, '–ë–µ–ª. —è–∑—ã–∫(–ø—Ä–æ—Ñ)', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (2, '–î–ü/–ú–ü', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (3, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ./–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (6, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (7, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞(–ø—Ä–æ—Ñ)', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (3, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–°–∏–≤—ã–π –ê.–í.'),
            (5, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (6, '–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ', '–°–∏–≤—ã–π –ê.–í.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (2, '–ë–∏–æ–ª–æ–≥–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.'),
            (3, '–ë–µ–ª. —è–∑—ã–∫/–ú–∞—Ç–µ–º(–ø—Ä–æ—Ñ)', '–ë—Ä–µ–ª—å –Æ.–í./–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (4, '–ß–µ—Ä—á–µ–Ω–∏–µ', '–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (5, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ê—Ä—Ç—é—Ö –ú.–ü./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (6, '–ë–µ–ª. —è–∑—ã–∫(–ø—Ä–æ—Ñ)', '–ê–Ω–∏—Å–µ–Ω–∫–æ –°.–í.')
        ]
    },
    '10–±': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (2, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (4, '–ê–Ω–≥–ª. —è–∑—ã–∫/–•–∏–º–∏—è', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú./–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (6, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í./–°–∏–≤—ã–π –ê.–í.'),
            (7, '–±–∏–æ–ª–æ–≥–∏—è/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (2, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (3, '–§–∏–∑–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (4, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫/–•–∏–º–∏—è', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (5, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú./–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ.'),
            (6, '–ë–∏–æ–ª–æ–≥–∏—è(–ø—Ä–æ—Ñ)', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (3, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (4, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í./–°–∏–≤—ã–π –ê.–í.'),
            (5, '–ê–Ω–≥–ª. —è–∑—ã–∫/–ò—Å—Ç–æ—Ä–∏—è', '–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê./–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (6, '–†—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (7, '–ë–∏–æ–ª–æ–≥–∏—è/—Ö–∏–º–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (2, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ–µ–±–µ–¥–µ–≤—Å–∫–∞—è –ú.–ü.'),
            (3, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ–µ–æ–Ω–æ–≤–∞ –î.–ê.'),
            (4, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (6, '–î–ü/–ú–ü', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–°–º–æ–ª—å—Å–∫–∏–π –°.–ú.'),
            (7, '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫', '–ü—Ä–∏—Ö–æ–¥—å–∫–æ –ò.–ù.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–ß–µ—Ä—á–µ–Ω–∏–µ', '–ú–∏—Ö–∞—Å—ë–≤ –í.–ê.'),
            (2, '–ê–Ω–≥–ª. —è–∑—ã–∫/–ò—Å—Ç–æ—Ä–∏—è', '–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê./–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (3, '–§–∏–∑–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (4, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ù–∞–∑–∞—Ä–µ–Ω–∫–æ –¢.–ö.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (6, '–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ', '–°–∏–≤—ã–π –ê.–í.')
        ]
    },
    '11': {
        '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫': [
            (1, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (2, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (3, '–û–±—â–µ—Å—Ç–≤–æ–≤–µ–¥–µ–Ω–∏–µ', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (4, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (5, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (6, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ./–Ø–≤–æ—à –°.–í.'),
            (7, '–ê–Ω–≥–ª. —è–∑/–†—É—Å. —è–∑', '–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê./–ü–∏–Ω—á—É–∫ –ê.–í.')
        ],
        '–í—Ç–æ—Ä–Ω–∏–∫': [
            (1, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (2, '–ò—Å—Ç–æ—Ä–∏—è', '–ö–æ—Ä–æ–ª—ë–≤–∞ –ñ.–í.'),
            (3, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–í–µ—Ä–≥–µ–π—á–∏–∫ –í.–õ./–Ø–≤–æ—à –°.–í.'),
            (4, '–ê–Ω–≥–ª. —è–∑/–†—É—Å. —è–∑', '–•–æ—Ä–æ—à–∫–æ –¢.–ê./–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (5, '–ê–Ω–≥–ª. —è–∑/–†—É—Å. —è–∑', '–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê./–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (6, '–†—É—Å. —è–∑/–•–∏–º–∏—è', '–ü–∏–Ω—á—É–∫ –ê.–í./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.')
        ],
        '–°—Ä–µ–¥–∞': [
            (1, '–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞', '–ì—É–¥ –Æ.–ü./–ü—Ä–∏—Ö–∞—á –ï.–í.'),
            (2, '–ì–µ–æ–≥—Ä–∞—Ñ–∏—è', '–Æ–Ω–∞—Ö –¢.–í.'),
            (3, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (4, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (5, '–ë–µ–ª–æ—Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (6, '–î–ü/–ú–ü', '–î–∞–Ω–∏–ª–µ–Ω–∫–æ –ê.–ê./–Ø–≤–æ—à –°.–í.')
        ],
        '–ß–µ—Ç–≤–µ—Ä–≥': [
            (1, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (2, '–ê—Å—Ç—Ä–æ–Ω–æ–º–∏—è', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (3, '–ë–µ–ª. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–õ—É–∫—å—è–Ω–µ–Ω–∫–æ –õ.–ò.'),
            (4, '–§–∏–∑–∏–∫–∞', '–°—Ç–∏—à–µ–Ω–æ–∫ –ù.–ò.'),
            (5, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (6, '–ê–Ω–≥–ª. —è–∑/–ë–∏–æ–ª–æ–≥–∏—è', '–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê./–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì.')
        ],
        '–ü—è—Ç–Ω–∏—Ü–∞': [
            (1, '–§–∏–∑–∫—É–ª—å—Ç—É—Ä–∞', '–Ø–≤–æ—à –°.–í.'),
            (2, '–†—É—Å. –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞', '–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (3, '–ê–Ω–≥–ª. —è–∑/–†—É—Å. —è–∑', '–•–æ—Ä–æ—à–∫–æ –¢.–ê./–ü–∏–Ω—á—É–∫ –ê.–í.'),
            (4, '–ë–∏–æ–ª–æ–≥–∏—è/–•–∏–º–∏—è', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì./–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.'),
            (5, '–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞', '–ö–æ—Ä–æ—Ç—á–∏–∫–æ–≤–∞ –õ.–í.'),
            (6, '–ë–∏–æ–ª–æ–≥–∏—è/–ê–Ω–≥–ª. —è–∑', '–ö–∞–Ω—É–Ω–æ–≤–∞ –í.–ì./–¢–∏—Ö–æ–Ω–µ–Ω–∫–æ –û.–ê.'),
            (7, '–•–∏–º–∏—è(–ø—Ä–æ—Ñ)', '–ö–æ—Ä–æ–ª—å—á—É–∫ –û.–ì.')
        ]
    }
}

# –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
def get_lesson_time(lesson_number):
    """–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è —É—Ä–æ–∫–∞ –ø–æ –µ–≥–æ –Ω–æ–º–µ—Ä—É."""
    lesson_times = {
        1: "08:00-08:45",
        2: "09:00-09:45",
        3: "10:00-10:45",
        4: "11:00-11:45",
        5: "12:00-12:45",
        6: "12:55-13:40",
        7: "14:00-14:45"
    }
    return lesson_times.get(lesson_number, "??:??-??:??")

def get_current_lesson_info():
    """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–µ–∫—É—â–∏–π/—Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–∫ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ –ú–∏–Ω—Å–∫–∞."""
    tz_minsk = pytz.timezone('Europe/Minsk')
    now = datetime.now(tz_minsk)
    current_hour = now.hour
    current_minute = now.minute
    current_minutes = current_hour * 60 + current_minute
    
    lesson_intervals = [
        (8, 0, 8, 45, 1),
        (9, 0, 9, 45, 2),
        (10, 0, 10, 45, 3),
        (11, 0, 11, 45, 4),
        (12, 0, 12, 45, 5),
        (12, 55, 13, 40, 6),
        (14, 0, 14, 45, 7)
    ]
    
    for start_h, start_m, end_h, end_m, num in lesson_intervals:
        start_total = start_h * 60 + start_m
        end_total = end_h * 60 + end_m
        if start_total <= current_minutes <= end_total:
            time_left = end_total - current_minutes
            return {
                'status': 'lesson',
                'number': num,
                'time_left': time_left,
                'start_time': f"{start_h:02d}:{start_m:02d}",
                'end_time': f"{end_h:02d}:{end_m:02d}"
            }
    
    for start_h, start_m, end_h, end_m, num in lesson_intervals:
        start_total = start_h * 60 + start_m
        if current_minutes < start_total:
            minutes_until = start_total - current_minutes
            return {
                'status': 'break',
                'next_number': num,
                'minutes_until': minutes_until,
                'start_time': f"{start_h:02d}:{start_m:02d}",
                'end_time': f"{end_h:02d}:{end_m:02d}"
            }
    
    return {'status': 'finished'}

def format_schedule_day(class_name, day, structured_lessons, target_date=None):
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –¥–µ–Ω—å."""
    if not structured_lessons:
        return "–ù–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–µ—Ç."
    
    structured_lessons.sort(key=lambda x: x[0])
    
    substitutions = []
    if target_date:
        substitutions = db.get_substitutions_for_class_date(class_name, target_date)
    
    sub_dict = {}
    for sub in substitutions:
        lesson_num = sub[3]
        sub_dict[lesson_num] = {
            'old_subject': sub[4],
            'new_subject': sub[5],
            'old_teacher': sub[6],
            'new_teacher': sub[7]
        }
    
    result_lines = []
    header = f"üìÖ <b>{day.upper()} - {class_name.upper()}</b>"
    result_lines.append(header)
    result_lines.append("‚îÄ" * 18)
    
    for lesson_num, subject, teacher in structured_lessons:
        lesson_time = get_lesson_time(lesson_num)
        if 1 <= lesson_num <= 7:
            emoji = ["1Ô∏è‚É£", "2Ô∏è‚É£", "3Ô∏è‚É£", "4Ô∏è‚É£", "5Ô∏è‚É£", "6Ô∏è‚É£", "7Ô∏è‚É£"][lesson_num - 1]
            lesson_str = f"{emoji} "
        else:
            lesson_str = f"{lesson_num}. "
        
        main_line = f"{lesson_str} <b>{lesson_time}</b> ‚û°Ô∏è {subject} ‚úÖ {teacher}"
        result_lines.append(main_line)
        
        if lesson_num in sub_dict:
            sub = sub_dict[lesson_num]
            result_lines.append(f"   ‚îî‚îÄ üîÑ <b>–ó–ê–ú–ï–ù–ê:</b> {sub['new_subject']} ‚úÖ {sub['new_teacher']}")
    
    return "\n".join(result_lines)

def format_weekly_schedule(class_name):
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é."""
    if class_name not in SCHEDULE_STRUCTURED:
        return f"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–ª–∞—Å—Å–∞ {class_name} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ."
    
    result_lines = []
    result_lines.append(f"üìÖ –†–ê–°–ü–ò–°–ê–ù–ò–ï –ù–ê –ù–ï–î–ï–õ–Æ - {class_name.upper()}")
    result_lines.append("=" * 30)
    
    days_order = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞"]
    
    for day in days_order:
        if day in SCHEDULE_STRUCTURED[class_name]:
            lessons = SCHEDULE_STRUCTURED[class_name][day]
            if lessons:
                result_lines.append(f"\n<b>üìå {day.upper()}</b>")
                result_lines.append("‚îÄ" * 18)
                for lesson_num, subject, teacher in lessons:
                    lesson_time = get_lesson_time(lesson_num)
                    if 1 <= lesson_num <= 7:
                        emoji = ["1Ô∏è‚É£", "2Ô∏è‚É£", "3Ô∏è‚É£", "4Ô∏è‚É£", "5Ô∏è‚É£", "6Ô∏è‚É£", "7Ô∏è‚É£"][lesson_num - 1]
                        lesson_str = f"{emoji} "
                    else:
                        lesson_str = f"{lesson_num}. "
                    line = f"{lesson_str} <b>{lesson_time}</b> ‚û°Ô∏è {subject} ‚úÖ {teacher}"
                    result_lines.append(line)
    
    return "\n".join(result_lines)

def get_all_teachers():
    """–ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É—á–∏—Ç–µ–ª–µ–π –∏–∑ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è."""
    teachers = set()
    for class_name, days in SCHEDULE_STRUCTURED.items():
        for day, lessons in days.items():
            for lesson in lessons:
                if len(lesson) >= 3:
                    teacher_name = lesson[2]
                    if teacher_name:
                        teacher_list = [t.strip() for t in teacher_name.split('/')]
                        for teacher in teacher_list:
                            teacher_clean = re.sub(r'\s*\([^)]*\)\s*', '', teacher).strip()
                            if teacher_clean and teacher_clean not in ['', ' ']:
                                teachers.add(teacher_clean)
    return sorted(list(teachers))

def get_teacher_schedule(teacher_name):
    """–ü–æ–ª—É—á–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—á–∏—Ç–µ–ª—è."""
    schedule = {}
    for class_name, days in SCHEDULE_STRUCTURED.items():
        for day, lessons in days.items():
            for lesson in lessons:
                if len(lesson) >= 3:
                    current_teacher = lesson[2]
                    teacher_list = [t.strip() for t in current_teacher.split('/')]
                    teacher_list_clean = [re.sub(r'\s*\([^)]*\)\s*', '', t).strip() for t in teacher_list]
                    if teacher_name in teacher_list_clean:
                        if day not in schedule:
                            schedule[day] = []
                        lesson_info = {
                            'class': class_name,
                            'number': lesson[0],
                            'subject': lesson[1],
                            'time': get_lesson_time(lesson[0]),
                            'full_teacher': current_teacher
                        }
                        schedule[day].append(lesson_info)
    for day in schedule:
        schedule[day].sort(key=lambda x: x['number'])
    return schedule

def format_teacher_schedule(teacher_name, schedule):
    """–§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—á–∏—Ç–µ–ª—è."""
    text = f"<b>üë®‚Äçüè´ {teacher_name}</b>\n"
    text += "=" * 30 + "\n"
    
    if schedule:
        total_lessons = sum(len(lessons) for lessons in schedule.values())
        classes = set()
        subjects = set()
        for day_lessons in schedule.values():
            for lesson in day_lessons:
                classes.add(lesson['class'])
                subjects.add(lesson['subject'])
        text += f"<b>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</b>\n"
        text += f"‚Ä¢ –£—Ä–æ–∫–æ–≤: <b>{total_lessons}</b>\n"
        text += f"‚Ä¢ –ö–ª–∞—Å—Å—ã: <b>{', '.join(sorted(classes))}</b>\n"
        text += f"‚Ä¢ –ü—Ä–µ–¥–º–µ—Ç—ã: <b>{', '.join(sorted(subjects))}</b>\n"
    else:
        text += "<i>‚ùå –ù–µ—Ç —É—Ä–æ–∫–æ–≤ –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏</i>\n"
    
    text += "\n" + "=" * 30 + "\n"
    text += "<b>üìÖ –û–°–ù–û–í–ù–û–ï –†–ê–°–ü–ò–°–ê–ù–ò–ï:</b>\n"
    
    days_order = ["–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫", "–í—Ç–æ—Ä–Ω–∏–∫", "–°—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä–≥", "–ü—è—Ç–Ω–∏—Ü–∞"]
    has_main_schedule = False
    
    for day in days_order:
        if day in schedule and schedule[day]:
            has_main_schedule = True
            text += f"<b>{day.upper()}</b>\n"
            text += "‚îÄ" * 18 + "\n"
            sorted_lessons = sorted(schedule[day], key=lambda x: x['number'])
            
            for lesson in sorted_lessons:
                if 1 <= lesson['number'] <= 7:
                    emoji = ["1Ô∏è‚É£", "2Ô∏è‚É£", "3Ô∏è‚É£", "4Ô∏è‚É£", "5Ô∏è‚É£", "6Ô∏è‚É£", "7Ô∏è‚É£"][lesson['number'] - 1]
                    lesson_marker = emoji
                else:
                    lesson_marker = f"{lesson['number']}. "
                
                col1 = f"{lesson_marker} <b>{lesson['time']}</b> "
                col2 = f"<code>{lesson['class'].upper()}</code> ‚û°Ô∏è {lesson['subject']} "
                teachers = lesson['full_teacher'].split('/')
                if len(teachers) > 1:
                    col2 += " <i>(—Å —Å–æ–≤–º.)</i> "
                
                text += f"{col1} {col2}\n"
            
            text += "\n"
    
    if not has_main_schedule:
        text += "<i>–ù–µ—Ç —É—Ä–æ–∫–æ–≤ –Ω–∞ –Ω–µ–¥–µ–ª—é</i>\n"
    
    text += "=" * 30 + "\n"
    text += "<i>‚ÑπÔ∏è –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é</i>"
    
    return text

# –§—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥
async def start(update: Update, context: CallbackContext):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–æ–º–∞–Ω–¥—ã /start."""
    user = update.effective_user
    db.add_user(
        user_id=user.id,
        username=user.username,
        first_name=user.first_name,
        last_name=user.last_name,
        language_code=user.language_code
    )
    db.log_user_activity(user.id, 'start')
    
    keyboard = [
        [InlineKeyboardButton("‚è∞ –°–µ–π—á–∞—Å", callback_data='menu_now')],
        [InlineKeyboardButton("üë®‚Äçüè´ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—á–∏—Ç–µ–ª–µ–π", callback_data='menu_teacher')],
        [InlineKeyboardButton("üïê –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤", callback_data='menu_bells')],
        [InlineKeyboardButton("üìö –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤", callback_data='menu_schedule')],
        [InlineKeyboardButton("üîÑ –ó–∞–º–µ–Ω—ã", callback_data='menu_substitutions')],
        [InlineKeyboardButton("üåü –ú–û—ë", callback_data='menu_my')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await update.message.reply_text(
        'üè´ <b>–®–∫–æ–ª—å–Ω—ã–π –±–æ—Ç</b>\n–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:',
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_teacher_menu(query, context):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –≤—ã–±–æ—Ä–∞ —É—á–∏—Ç–µ–ª—è."""
    real_teachers = get_all_teachers()
    teachers_per_row = 2
    keyboard = []
    row = []
    
    for i, teacher in enumerate(real_teachers):
        button_text = teacher
        if len(teacher) > 20:
            button_text = teacher[:18] + "..."
        row.append(InlineKeyboardButton(button_text, callback_data=f'teacher_{i}'))
        if len(row) >= teachers_per_row:
            keyboard.append(row)
            row = []
    
    if row:
        keyboard.append(row)
    
    context.user_data['teachers_list'] = real_teachers
    keyboard.append([InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')])
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(
        "üë®‚Äçüè´ <b>–†–ê–°–ü–ò–°–ê–ù–ò–ï –£–ß–ò–¢–ï–õ–ï–ô</b>\n"
        "–í—ã–±–µ—Ä–∏—Ç–µ —É—á–∏—Ç–µ–ª—è –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –µ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é:",
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_teacher_schedule(query, context):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—á–∏—Ç–µ–ª—è."""
    try:
        parts = query.data.split('_')
        teacher_index = int(parts[1])
        teachers_list = context.user_data.get('teachers_list', [])
    except (ValueError, IndexError, KeyError) as e:
        logger.error(f"–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ callback {query.data}, –æ—à–∏–±–∫–∞: {e}")
        keyboard = [[InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(
            "‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.\n–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –º–µ–Ω—é.",
            reply_markup=reply_markup,
            parse_mode='HTML'
        )
        return
    
    if not teachers_list or teacher_index >= len(teachers_list):
        keyboard = [[InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]]
        reply_markup = InlineKeyboardMarkup(keyboard)
        await query.edit_message_text(
            "<b>‚ùå –û—à–∏–±–∫–∞: —Å–ø–∏—Å–æ–∫ —É—á–∏—Ç–µ–ª–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω.</b>",
            reply_markup=reply_markup,
            parse_mode='HTML'
        )
        return
    
    teacher_name = teachers_list[teacher_index]
    teacher_schedule = get_teacher_schedule(teacher_name)
    schedule_text = format_teacher_schedule(teacher_name, teacher_schedule)
    
    keyboard = [
        [InlineKeyboardButton("‚Ü©Ô∏è –ö —Å–ø–∏—Å–∫—É —É—á–∏—Ç–µ–ª–µ–π", callback_data='menu_teacher')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(
        schedule_text,
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_bells_schedule(query):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –∑–≤–æ–Ω–∫–æ–≤."""
    keyboard = [[InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await query.edit_message_text(BELLS_SCHEDULE_HTML, reply_markup=reply_markup, parse_mode='HTML')

async def show_class_selection(query):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä –∫–ª–∞—Å—Å–∞."""
    keyboard = [
        [InlineKeyboardButton("5–ê", callback_data='class_5–∞'), InlineKeyboardButton("5–ë", callback_data='class_5–±'), InlineKeyboardButton("5–í", callback_data='class_5–≤')],
        [InlineKeyboardButton("6–ê", callback_data='class_6–∞'), InlineKeyboardButton("6–ë", callback_data='class_6–±'), InlineKeyboardButton("6–í", callback_data='class_6–≤')],
        [InlineKeyboardButton("7–ê", callback_data='class_7–∞'), InlineKeyboardButton("7–ë", callback_data='class_7–±'), InlineKeyboardButton("7–í", callback_data='class_7–≤')],
        [InlineKeyboardButton("8–ê", callback_data='class_8–∞'), InlineKeyboardButton("8–ë", callback_data='class_8–±')],
        [InlineKeyboardButton("9–ê", callback_data='class_9–∞'), InlineKeyboardButton("9–ë", callback_data='class_9–±')],
        [InlineKeyboardButton("10–ê", callback_data='class_10–∞'), InlineKeyboardButton("10–ë", callback_data='class_10–±')],
        [InlineKeyboardButton("11", callback_data='class_11')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await query.edit_message_text(
        "üìö –†–ê–°–ü–ò–°–ê–ù–ò–ï –£–†–û–ö–û–í\n–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å:",
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_day_selection_for_class(query, context):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—ã–±–æ—Ä –¥–Ω—è –¥–ª—è –∫–ª–∞—Å—Å–∞."""
    class_name = query.data.replace('class_', '')
    context.user_data['selected_class'] = class_name
    
    keyboard = []
    for day in DAYS_OF_WEEK:
        keyboard.append([InlineKeyboardButton(day, callback_data=f'schedule_{day.lower()}')])
    keyboard.append([InlineKeyboardButton("üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é", callback_data=f'weekly_{class_name}')])
    keyboard.append([InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –∫–ª–∞—Å—Å–∞–º", callback_data='menu_schedule')])
    keyboard.append([InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')])
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(
        f"üìö –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è {class_name.upper()}\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å –Ω–µ–¥–µ–ª–∏ –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é:",
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_daily_schedule(query, context):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å."""
    day = query.data.replace('schedule_', '').capitalize()
    class_name = context.user_data.get('selected_class', '')
    
    if class_name and class_name in SCHEDULE_STRUCTURED and day in SCHEDULE_STRUCTURED[class_name]:
        structured_lessons = SCHEDULE_STRUCTURED[class_name][day]
        schedule_text = format_schedule_day(class_name, day, structured_lessons)
    else:
        schedule_text = f"–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–ª–∞—Å—Å–∞ {class_name} –Ω–∞ {day} –Ω–µ –Ω–∞–π–¥–µ–Ω–æ."
    
    keyboard = [
        [InlineKeyboardButton("üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é", callback_data=f'weekly_{class_name}')],
        [InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –¥–Ω—è–º", callback_data=f'class_{class_name}')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(
        schedule_text,
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_weekly_schedule(query, context):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –≤—Å—é –Ω–µ–¥–µ–ª—é."""
    class_name = query.data.replace('weekly_', '')
    context.user_data['selected_class'] = class_name
    
    schedule_text = format_weekly_schedule(class_name)
    
    keyboard = [
        [InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –¥–Ω—è", callback_data=f'class_{class_name}')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(
        schedule_text,
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_substitutions_menu(query):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –∑–∞–º–µ–Ω."""
    keyboard = [
        [InlineKeyboardButton("üîÑ –°–µ–≥–æ–¥–Ω—è", callback_data='subs_today')],
        [InlineKeyboardButton("üìã –í—Å–µ –∑–∞–º–µ–Ω—ã", callback_data='subs_all')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    await query.edit_message_text(
        "üîÑ –ó–ê–ú–ï–ù–´ –£–†–û–ö–û–í\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å:",
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def show_substitutions_for_date(query):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–º–µ–Ω—ã –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å."""
    today = datetime.now().date()
    
    if query.data == 'subs_today':
        target_date = today
    else:
        target_date = today
    
    subs = db.get_substitutions_for_date(target_date.strftime('%Y-%m-%d'))
    
    if subs:
        text = f"<b>üîÑ –ó–∞–º–µ–Ω—ã –Ω–∞ {target_date.strftime('%d.%m.%Y')}:</b>\n"
        for sub in subs:
            text += f"‚Ü™Ô∏è {sub[8]} –∫–ª–∞—Å—Å, {sub[3]} —É—Ä–æ–∫:\n"
            text += f"       `{sub[4]}` ({sub[6]})\n"
            text += f"   ‚Üí    `{sub[5]}` ({sub[7]})\n\n"
    else:
        text = f"<b>–ù–∞ {target_date.strftime('%d.%m.%Y')} –∑–∞–º–µ–Ω –Ω–µ—Ç.</b>"
    
    keyboard = [
        [InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –∑–∞–º–µ–Ω–∞–º", callback_data='menu_substitutions')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(text, reply_markup=reply_markup, parse_mode='HTML')

async def show_all_substitutions(query):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –∑–∞–º–µ–Ω—ã."""
    subs = db.get_all_substitutions()
    
    if subs:
        text = "üìã –í–°–ï –ó–ê–ú–ï–ù–´:\n"
        current_date = None
        for sub in subs:
            if sub[1] != current_date:
                current_date = sub[1]
                text += f"\nüìÖ {current_date}:\n"
            text += f"‚Ü™Ô∏è {sub[8]} –∫–ª–∞—Å—Å, {sub[3]} —É—Ä–æ–∫:\n"
            text += f"       `{sub[4]}` ({sub[6]})\n"
            text += f"   ‚Üí    `{sub[5]}` ({sub[7]})\n\n"
    else:
        text = "–ó–∞–º–µ–Ω—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç."
    
    if len(text) > 4000:
        text = text[:3900] + "\n... (—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–µ–∑–∞–Ω–æ)"
    
    keyboard = [
        [InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –∑–∞–º–µ–Ω–∞–º", callback_data='menu_substitutions')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(text, reply_markup=reply_markup, parse_mode='HTML')

async def show_my_menu(query, context):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é '–ú–û—ë'."""
    user_id = query.from_user.id
    favorites = db.get_user_favorites(user_id)
    
    if not favorites:
        text = "üåü <b>–ú–û—ë</b>\n\n–£ –≤–∞—Å –Ω–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤.\n–î–æ–±–∞–≤—å—Ç–µ –∏—Ö –∏–∑ –º–µ–Ω—é —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è."
        keyboard = [
            [InlineKeyboardButton("üìö –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤", callback_data='menu_schedule')],
            [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
        ]
    else:
        text = "üåü <b>–ú–û—ë</b>\n\n<b>üìö –ò–∑–±—Ä–∞–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:</b>\n"
        keyboard = []
        for fav_type, value in favorites:
            if fav_type == 'class':
                text += f"‚Ä¢ {value.upper()}\n"
                keyboard.append([
                    InlineKeyboardButton(f"üìÖ {value.upper()}", callback_data=f'my_class_{value}'),
                    InlineKeyboardButton("üóë –£–¥–∞–ª–∏—Ç—å", callback_data=f'remove_favorite_{value}')
                ])
        
        keyboard.append([InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')])
    
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(text, reply_markup=reply_markup, parse_mode='HTML')

async def button_handler(update: Update, context: CallbackContext):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏–π –Ω–∞ –∫–Ω–æ–ø–∫–∏."""
    query = update.callback_query
    
    if not isinstance(context.user_data, dict):
        context.user_data = {}
    
    user = query.from_user
    db.add_user(
        user_id=user.id,
        username=user.username,
        first_name=user.first_name,
        last_name=user.last_name,
        language_code=user.language_code
    )
    db.log_user_activity(user.id, f'button_{query.data[:50]}')
    
    try:
        await query.answer()
    except (TimedOut, Exception) as e:
        logger.warning(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–≤–µ—Ç–µ –Ω–∞ callback: {e}")
        return
    
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–Ω–æ–ø–æ–∫
    if query.data == 'back_to_main':
        await start(query, context)
    elif query.data == 'menu_teacher':
        await show_teacher_menu(query, context)
    elif query.data.startswith('teacher_'):
        await show_teacher_schedule(query, context)
    elif query.data == 'menu_bells':
        await show_bells_schedule(query)
    elif query.data == 'menu_schedule':
        await show_class_selection(query)
    elif query.data.startswith('class_'):
        await show_day_selection_for_class(query, context)
    elif query.data.startswith('schedule_'):
        await show_daily_schedule(query, context)
    elif query.data.startswith('weekly_'):
        await show_weekly_schedule(query, context)
    elif query.data == 'menu_substitutions':
        await show_substitutions_menu(query)
    elif query.data in ['subs_today']:
        await show_substitutions_for_date(query)
    elif query.data == 'subs_all':
        await show_all_substitutions(query)
    elif query.data == 'menu_my':
        await show_my_menu(query, context)
    elif query.data.startswith('my_class_'):
        class_name = query.data.replace('my_class_', '')
        context.user_data['selected_class'] = class_name
        await show_weekly_schedule_for_class(query, context, class_name)
    elif query.data.startswith('remove_favorite_'):
        class_name = query.data.replace('remove_favorite_', '')
        user_id = query.from_user.id
        db.remove_favorite(user_id, 'class', class_name)
        await query.answer(f"–ö–ª–∞—Å—Å {class_name.upper()} —É–¥–∞–ª–µ–Ω –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ", show_alert=True)
        await show_my_menu(query, context)

async def show_weekly_schedule_for_class(query, context, class_name):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ –Ω–µ–¥–µ–ª—é –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞."""
    schedule_text = format_weekly_schedule(class_name)
    
    keyboard = [
        [InlineKeyboardButton("üåü –ú–û—ë", callback_data='menu_my')],
        [InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥ –∫ –≤—ã–±–æ—Ä—É –¥–Ω—è", callback_data=f'class_{class_name}')],
        [InlineKeyboardButton("üè† –°—Ç–∞—Ä—Ç / –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", callback_data='back_to_main')]
    ]
    reply_markup = InlineKeyboardMarkup(keyboard)
    
    await query.edit_message_text(
        schedule_text,
        reply_markup=reply_markup,
        parse_mode='HTML'
    )

async def handle_message(update: Update, context: CallbackContext):
    """–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π."""
    if not update.message or not update.message.text:
        return
    
    user = update.effective_user
    db.add_user(
        user_id=user.id,
        username=user.username,
        first_name=user.first_name,
        last_name=user.last_name,
        language_code=user.language_code
    )
    db.log_user_activity(user.id, 'message')

def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞."""
    try:
        # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—É–ª –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
        db.init_db_pool()
        db.init_db()
    except Exception as e:
        logger.error(f"–û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î: {e}")
        print(f"‚ùå –û—à–∏–±–∫–∞ –ë–î: {e}")
        exit(1)
    
    application = (
        Application.builder()
        .token(TOKEN)
        .read_timeout(REQUEST_TIMEOUT)
        .write_timeout(REQUEST_TIMEOUT)
        .connect_timeout(REQUEST_TIMEOUT)
        .pool_timeout(REQUEST_TIMEOUT)
        .build()
    )
    
    application.add_handler(CommandHandler("start", start))
    application.add_handler(CallbackQueryHandler(button_handler))
    application.add_handler(
        MessageHandler(
            filters.TEXT & ~filters.COMMAND,
            handle_message
        )
    )
    
    print("ü§ñ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...")
    print(f"üìä –í—Å–µ–≥–æ —É—á–∏—Ç–µ–ª–µ–π –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–∏: {len(get_all_teachers())}")
    print(f"üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –±–∞–∑–µ: {db.get_user_count()}")
    
    try:
        application.run_polling(
            allowed_updates=Update.ALL_TYPES,
            drop_pending_updates=True
        )
    except KeyboardInterrupt:
        print("\nüõë –ë–æ—Ç –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
    except Exception as e:
        print(f"‚ùå –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: {e}")
        logger.critical(f"–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞: {e}")

if __name__ == '__main__':
    main()
